/////////////////////////////////////////////////////////////
// strings.cpp
//
// This file was generated by CXR, the literal string encryptor.
// CXR, Copyright 2002, Smaller Animals Software, Inc., all rights reserved.
//
// Please do not edit this file. Any changes here will be overwritten on the next compile.
// If you wish to make changes to a string, please edit:
//     d:\My\_Design_\V_KLay\Visual C++\V_KLay\strings.cxr
//

/////////////////////////////////////////////////////////////

#include "stdafx.h"
#include "cxr_inc.h"

////////////////////////////////////////////////
// V_KLay strings for encryption
										 

											   
///////////////////////////
#ifdef _USING_CXR
const char* cryptstrAbout1="\x88\x88\x89\x8c\x84\x84\x84\x86\x87\x86\x80\x8f\x8a\x88\x8e\x8d\x89\x86\x8b\x81\x82\x83\x86\x82\x8d\x81\x88\x88\x84\x88\x88\x83\x8c\x84\x85\x84\x82\x80\x8f\x85\x86\x84";
#else
const char* cryptstrAbout1=_CXR("V_KLay Version %i.%i");
#endif

///////////////////////////
#ifdef _USING_CXR
const char* cryptstrAbout3="\x8c\x86\x85\x86\x8d\x87\x87\x80\x89\x83\x83\x81\x84\x8b\x83\x87\x86\x87\x88\x89\x8e\x8d\x89\x80\x89\x8e\x88\x8e\x83\x83\x8f\x86\x81\x80\x8b\x8c\x82\x89\x8b\x88\x86\x81\x86\x89\x8a\x87\x86\x80\x8e\x8d\x8d\x81\x86\x84\x8d\x8e\x89\x84\x81\x8d\x89\x8b\x8c\x80\x87\x84\x8c\x86\x8b\x82\x8e\x86\x81\x83\x89\x89\x8c\x87\x8d\x82\x8c\x8b\x89\x8e\x84\x8c\x8c\x89\x88\x8f\x88\x81\x85\x82\x8c\x82\x8c\x82\x8a\x85\x88\x85\x82\x81\x8f\x81\x83\x8a\x85\x86\x8f\x82\x8d\x83\x81\x8e\x81\x87";
#else
const char* cryptstrAbout3=_CXR("\nCopyright (C) 2002-2005 Valeriy V. Vishnyak\nUkraine, Kyiv");
#endif


///////////////////////////
#ifdef _USING_CXR
const char* cryptstrSiteName="\x84\x8e\x84\x8b\x8f\x82\x8b\x8c\x82\x85\x8f\x83\x83\x8e\x84\x83\x8f\x83\x8b\x85\x80\x83\x86\x88\x8b\x8d\x84\x84\x81\x83\x87\x82\x87\x83\x87\x81\x8d\x85";
#else
const char* cryptstrSiteName=_CXR("www.vi-soft.com.ua");
#endif

///////////////////////////
#ifdef _USING_CXR
const char* cryptstrSiteURL="\x8a\x80\x8d\x8a\x86\x81\x8e\x88\x83\x85\x8a\x80\x87\x88\x8b\x85\x8a\x8f\x8e\x88\x84\x8b\x84\x8e\x8e\x8b\x8c\x82\x82\x85\x82\x80\x83\x86\x83\x85\x81\x86\x8e\x80\x81\x85\x89\x8a\x80\x84\x8f\x8b\x89\x86\x8f\x84";
#else
const char* cryptstrSiteURL=_CXR("http://www.vi-soft.com.ua");
#endif

///////////////////////////
#ifdef _USING_CXR
const char* cryptstrSiteTip="\x8b\x88\x83\x84\x84\x8b\x8f\x8a\x8e\x8b\x81\x81\x8f\x80\x8d\x82\x8d\x88\x89\x86\x8c\x88\x8c\x8a\x8a\x89\x87\x80\x84\x86\x87\x8b\x84\x81\x89\x8d\x84\x8d\x83\x89\x84\x85\x8b\x85\x83\x81\x86\x88\x8b\x8b\x8b\x8b";
#else
const char* cryptstrSiteTip=_CXR("Go to the V_KLay web page");
#endif

///////////////////////////
#ifdef _USING_CXR
const char* cryptstrMailName="\x8b\x84\x89\x8d\x8c\x80\x8d\x8d\x81\x81\x82\x8b\x83\x89\x83\x8d\x87\x88\x8e\x85\x8f\x86\x8c\x86\x83\x81\x85\x80\x8c\x88\x88\x82\x87\x86";
#else
const char* cryptstrMailName=_CXR("ValeraVi@mail.ru");
#endif

///////////////////////////
#ifdef _USING_CXR
const char* cryptstrMailURL="\x8a\x88\x8d\x84\x81\x86\x80\x85\x8c\x82\x83\x8b\x8c\x89\x8b\x8e\x86\x8b\x8e\x8d\x86\x8c\x83\x84\x8d\x82\x8a\x85\x89\x8b\x8f\x85\x83\x8d\x87\x80\x83\x84\x8b\x8a\x89\x89\x8c\x83\x8a\x83\x80\x82\x89\x8f\x8d\x87";
#else
const char* cryptstrMailURL=_CXR("http://www.vi-soft.com.ua");
#endif

///////////////////////////
#ifdef _USING_CXR
const char* cryptstrMailTip="\x88\x87\x86\x87\x83\x81\x81\x82\x83\x86\x8a\x8b\x83\x8d\x81\x8c\x80\x87\x8a\x87";
#else
const char* cryptstrMailTip=_CXR("My E-Mail");
#endif


///////////////////////////
#ifdef _USING_CXR
const char* cryptstrDonateLinkName="\x8c\x82\x88\x81\x8c\x80\x80\x82\x8c\x84\x81\x89\x84\x81";
#else
const char* cryptstrDonateLinkName=_CXR("donate");
#endif

///////////////////////////
#ifdef _USING_CXR
const char* cryptstrDonateLinkURL="\x89\x82\x80\x89\x8e\x8b\x8f\x8a\x81\x81\x82\x8d\x87\x86\x88\x8d\x83\x8e\x8f\x83\x84\x81\x8c\x85\x82\x8e\x8b\x81\x84\x89\x83\x88\x80\x86\x8d\x85\x8d\x86\x8a\x8b\x80\x8a\x88\x8a\x8e\x8a\x81\x84\x89\x81\x83\x86\x8f\x8d\x80\x84\x8e\x88\x8a\x8e\x87\x82\x80\x8d\x82\x86\x82\x89\x8f\x8c\x8b\x86\x8c\x8e\x87\x8a\x83\x88\x84\x89\x81\x8b\x88\x87";
#else
const char* cryptstrDonateLinkURL=_CXR("http://www.vi-soft.com.ua/dn.php?n=donate");
#endif

///////////////////////////
#ifdef _USING_CXR
const char* cryptstrDonateLinkTip="\x8e\x8c\x89\x8d\x81\x85\x8d\x82\x8c\x81\x85\x8a\x87\x87\x8d\x80\x86\x84\x82\x85\x8f\x87\x88\x8f\x87\x82\x82\x81\x8c\x85\x82\x86\x85\x8f\x8f\x84\x82\x8c\x85\x80\x8e\x8a\x8f\x89\x8f\x86\x85\x8e\x8d\x88\x8a\x86\x89\x8d\x81\x86\x82\x81\x89\x8d\x8a\x81\x81\x86\x84\x83\x86\x8b\x8a\x8b\x8a\x8b\x8d\x80\x89\x80\x85\x8f\x8b\x83\x8b\x89\x84\x88\x8f\x8d\x8d\x8a\x8f\x80\x80\x84\x8b\x87\x80\x83\x81\x8c\x81\x86\x8c\x8e\x8c\x8f\x88\x81\x87\x8d\x8c\x8b\x80\x8e\x8f\x82\x83\x86\x8d\x88\x87\x87\x8c\x84\x82\x80\x84\x8b\x8a\x80\x8e\x8a\x8a\x8e\x82\x8b\x89\x8a\x8a\x8b\x8c\x8a\x8c\x86\x81\x89\x86\x87\x8f\x8f\x8b\x81\x88\x84\x8d\x83\x82\x86\x84\x8c\x88\x8e\x8c\x80\x8e\x8d\x86\x8f\x84\x8c\x8f\x8f\x80\x8a\x81\x80\x8c\x82\x83\x8f\x89\x85\x80\x86\x83\x85\x87\x84\x87\x8c\x80\x8b\x84\x8a\x8a\x83\x8e\x8b\x8f\x81\x88\x8b\x8a\x80\x87\x84\x89\x80\x80\x8f\x89\x8b\x84\x80\x85\x83\x8c\x80\x88\x8b\x80\x81\x88\x81\x8d\x81\x81\x82\x8c\x85\x87\x8e\x81\x80\x87\x8a\x89\x84\x83\x86\x85\x8c\x88\x8a\x87\x82\x8b\x8b\x84\x8d\x86\x85\x81\x85\x85\x8e\x80\x81\x82\x8b\x89\x88";
#else
const char* cryptstrDonateLinkTip=_CXR("Like this program? You may donate money, to support developers.\r\nПонравилась программа? Можете поддержать разработчиков деньгами.");
#endif

///////////////////////////
#ifdef _USING_CXR
const char* cryptstrDonateDescr="\x8e\x83\x8b\x8d\x8d\x81\x84\x81\x81\x80\x8f\x86\x85\x8b\x88\x85\x88\x8d\x83\x8d\x88\x80\x8f\x85\x80\x8d\x84\x80\x8e\x81\x88\x85\x84\x84\x81\x82\x83\x87\x8b\x8c\x8e\x81\x89\x88\x8d\x80\x87\x8c\x83\x81\x8a\x84\x8b\x88\x80\x85\x8a\x87\x8f\x8c\x84\x88\x8f\x84\x86\x8c\x82\x85\x8a\x87\x8b\x8c\x8d\x85\x8f\x88\x8c\x81\x8d\x86\x87\x85\x8b\x88\x84\x88\x80\x82\x81\x83\x81\x88\x8e\x8e\x88\x8f\x8f\x87\x8b\x8e\x88\x89\x89\x8d\x83\x8e\x86\x8b\x8c\x8c\x84\x8d\x83\x8c\x80\x8f\x8f\x8c\x87\x88\x8d\x87\x88\x8c\x89\x8b\x83\x83\x83\x82\x86\x8d\x89\x8f\x83\x84\x8e\x86\x8a\x8d\x8a\x89\x8a\x80\x8d\x81\x83\x8a\x8a\x84\x82\x8c\x88\x89\x8c\x80\x80\x89\x84\x81\x89\x8e\x82\x89\x8a\x89\x8f\x8f\x82\x8e\x83\x84\x84\x8c\x8f\x89\x87\x8a\x82\x8d\x84\x8d\x84\x87\x87\x86\x87\x82\x8d\x87\x80\x88\x82\x80\x8d\x89\x8f\x81\x81\x88\x81\x8b\x8f\x8f\x82\x8b\x8a\x8c\x86\x82\x85\x87";
#else
const char* cryptstrDonateDescr=_CXR("WMZ: Z663957027981 ( http://www.vi-soft.com.ua/dn.php?n=donate   ,   http://www.wmtransfer.com ), thanks.");
#endif



/////////////////////////////////////////////////////////////
// CXR-generated decoder follows

#include <algorithm>
const char * __pCXRPassword = "Af5v^.9bb;f@3";
const int __iCXRDecBase1 = 128;
const int __iCXRDecBase2 = 128;

class CCXR
{
protected:
   CCXR(const BYTE *key, unsigned int ks)
   {
      int i;BYTE rs;unsigned kp;
      for(i=0;i<256;i++)c[i]=i;kp=0;rs=0;for(i=255;i;i--)std::swap(c[i],c[kr(i,key,ks,&rs,&kp)]);r2=c[1];r1=c[3];av=c[5];lp=c[7];lc=c[rs];rs=0;kp=0;
   }
	inline void SC(){BYTE st=c[lc];r1+=c[r2++];c[lc]=c[r1];c[r1]=c[lp];c[lp]=c[r2];c[r2]=st;av+=c[st];}
	BYTE c[256],r2,r1,av,lp,lc;    

   BYTE kr(unsigned int lm, const BYTE *uk, BYTE ks, BYTE *rs, unsigned *kp)
   {
      unsigned rl=0,mk=1,u;while(mk<lm)mk=(mk<<1)+1;do{*rs=c[*rs]+uk[(*kp)++];if(*kp>=ks){*kp=0;*rs+=ks;}u=mk&*rs;if(++rl>11)u%=lm;}while(u>lm);return u;
   }
};
struct CXRD:CCXR
{
	CXRD(const BYTE *userKey, unsigned int keyLength=16) : CCXR(userKey, keyLength) {}
	inline BYTE pb(BYTE b){SC();lp=b^c[(c[r1]+c[r2])&0xFF]^c[c[(c[lp]+c[lc]+c[av])&0xFF]];lc=b;return lp;}
};
CString __CXRDecrypt(const char *pIn)
{
   CString x;char b[3];b[2]=0;
   CXRD sap((const BYTE*)__pCXRPassword, (unsigned int)strlen(__pCXRPassword));
   int ibl=(int)strlen(pIn);
   if (ibl > 2)
   {
      if (ibl&0x01)
      {
         ASSERT(!"Illegal string length in Decrypt");
         x=CA2CT(pIn);
         return x;
      }
      ibl/=2;
      for (int i=0;i<ibl;i++)
      {
         int b1 =pIn[i*2]-__iCXRDecBase1;int b2=pIn[i*2+1]-__iCXRDecBase2;
         int c = (b1 << 4) | b2;
         c =(int)(sap.pb((BYTE)(c)));
#ifdef UNICODE
         char ch=(char)c;
		  if(mbtowc((wchar_t*)&c, &ch, sizeof(ch))==-1)
             c=ch;
#endif
         if (i>0) x+=(_TCHAR)c;
      }
   }
   return x;
}
